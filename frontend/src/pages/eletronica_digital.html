<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="../css/components/components.css">
    
    <link rel="stylesheet" href="../css/fonts/fonts.css">
    <link rel="stylesheet" href="../css/components/sidebar.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0">
    <title>Curso de Eletrônica - Descrição</title>
    <style>
        body{
            font-family: lemon_milk;
            color: white;
            
           
            display: flex;
            margin: 0;
            padding: 0;

            min-height: 100vh;
           
           flex-direction: column;

        }

        html, body {
          height: 100%;
          margin: 0;
          padding: 0;
         
          
          
          overflow-y: auto;

        }


        /*.sidebar {
            width: 200px;
            background-color: #333;
            color: white;
            padding: 20px;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar li {
            margin-bottom: 10px;
        }

        .sidebar a {
            color: white;
            text-decoration: none;
        }*/

        .content {
            flex: 1;
            padding: 110px;
            display: flex;
            flex-direction: column;
        }

      
        .module {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 10px;

            min-width: 981.6px;
            max-width: 981.6px;
        }
        
        
        .module h2 {
            color: #333;
            margin-bottom: 10px;
        }

        .module p {
            color: #666;
            line-height: 1.6;
            
        }
        .module-image {
        width: 100px; /* Ajuste a largura conforme necessário */
        height: auto;
        float: right;
        margin-left: 10px; /* Espaço entre o parágrafo e a imagem */
        }

        .conteudo-modulo {
        display: none; /* Inicialmente oculto */
        padding: 15px; /* Opcional: Adiciona um espaçamento interno */
        background-color: #f9f9f9; /* Opcional: Cor de fundo para a área de aulas */
        border-radius: 0 0 8px 8px; /* Opcional: Bordas inferiores arredondadas */
        margin-top: 10px; /* Opcional: Espaço entre o módulo e o conteúdo das aulas */
        display: none;
        transition: max-height 0.3s ease;
        overflow: hidden;
    
        }

        .aula {
        margin-bottom: 30px;
      }

      .titulo-aula {
        font-size: 1.2rem;
        color: #333;
        margin-bottom: 10px;
      }

    </style>
</head>
<body>
    <aside class="sidebar">
        <!-- Sidebar header -->
        <header class="sidebar-header">
          <a href="./perfil.html" class="header-logo">
            <img src="../../public/images/industrial_robots.jpeg" alt="CodingNepal">
          </a>
          <button class="toggler sidebar-toggler">
            <span class="material-symbols-rounded">chevron_left</span>
          </button>
          <button class="toggler menu-toggler">
            <span class="material-symbols-rounded">menu</span>
          </button>
        </header>
    
        <nav class="sidebar-nav">
          <!-- Primary top nav -->
          <ul class="nav-list primary-nav">
            <li class="nav-item">
              <a href="./home.html" class="nav-link">
                <span class="nav-icon material-symbols-rounded">home</span>
                <span class="nav-label">Home</span>
              </a>
              <span class="nav-tooltip">Home</span>
            </li>
            <li class="nav-item">
              <a href="./catalogo.html" class="nav-link">
                <span class="nav-icon material-symbols-rounded">dashboard</span>
                <span class="nav-label">Catálogo</span>
              </a>
              <span class="nav-tooltip">Catálogo</span>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <span class="nav-icon material-symbols-rounded">notifications</span>
                <span class="nav-label">Notifications</span>
              </a>
              <span class="nav-tooltip">Notifications</span>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <span class="nav-icon material-symbols-rounded">group</span>
                <span class="nav-label">Team</span>
              </a>
              <span class="nav-tooltip">Team</span>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <span class="nav-icon material-symbols-rounded">insert_chart</span>
                <span class="nav-label">Analytics</span>
              </a>
              <span class="nav-tooltip">Analytics</span>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <span class="nav-icon material-symbols-rounded">star</span>
                <span class="nav-label">Favoritos</span>
              </a>
              <span class="nav-tooltip">Favoritos</span>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <span class="nav-icon material-symbols-rounded">settings</span>
                <span class="nav-label">Settings</span>
              </a>
              <span class="nav-tooltip">Settings</span>
            </li>
          </ul>
    
          <!-- Secondary bottom nav -->
          <ul class="nav-list secondary-nav">
            <li class="nav-item">
              <a href="./perfil.html" class="nav-link">
                <span class="nav-icon material-symbols-rounded">account_circle</span>
                <span class="nav-label">Profile</span>
              </a>
              <span class="nav-tooltip">Profile</span>
            </li>
            <li class="nav-item">
              <a href="/index.html" class="nav-link">
                <span class="nav-icon material-symbols-rounded">logout</span>
                <span class="nav-label">Logout</span>
              </a>
              <span class="nav-tooltip">Logout</span>
            </li>
          </ul>
        </nav>
      </aside>
      
    <div class="content">
        <h1>Curso de Eletrônica Digital</h1>

        <div class="module" id="modulo1">
            <h2>Introdução à Eletrônica Digital</h2>

            <p>Neste módulo, você aprenderá os conceitos básicos de robótica, desde a história e evolução dos robôs até os princípios de funcionamento e aplicações em diversas áreas.</p>
            <div class="conteudo-modulo" id="conteudo1">             
                <div class="aula">
                  <h3 class="titulo-aula">Aula 1: O que é Eletrônica Digital?</h3>
                  <div class="video-container">
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/DBTna2ydmC0?si=Hm9I6thGAxirX5N0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                  </div>
                </div>
                <div class="aula">
                  <h3 class="titulo-aula">Aula 2: Sistemas Binários</h3>
                  <div class="video-container"></div>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/A2CNr0sDrVY?si=Ryev1Os2a0Vs8lO5" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
                
                <div class="aula">
                  <h3 class="titulo-aula">Aula 3: Níveis Lógicos</h3>
                  <div class="video-container">
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/wrXwPmg4AnM?si=8dC4-EmRkO6zWgIk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                  </div>
                </div>
            </div>
            
        </div>

        <div class="module" id="modulo2">
            <h2>Componentes Eletrônicos</h2>
            <p>Aprenda a programar robôs utilizando diferentes linguagens e ferramentas, desde a programação em blocos para iniciantes até a programação em código para robôs mais avançados.</p>
            <!--<img src="/public/images/programacao_de_robos-pahc_automacao - Copia.webp" alt="Robô 1" class="module-image">-->
          <div class="conteudo-modulo" id="conteudo2">
            <div class="aula">
              <h3 class="titulo-aula">Aula 1: Resistores e Capacitores</h3>
              <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/e-Rb1vK17VM?si=BKR8h-zTCqviR9s7" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
              </div>
            </div>
            <div class="aula">
              <h3 class="titulo-aula">Aula 2: Diodos e Transistores</h3>
              <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/YkSmMsdSdfw?si=xffDPBWcKXbZ8-OU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
              </div>
            </div>
            <div class="aula">
              <h3 class="titulo-aula">Aula 3: Circuitos Integrados</h3>
              <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/762IrCxaOjo?si=GUL9s7SfJDsriIw9" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
              </div>
            </div>
          </div>
        </div>

        <div class="module" id="modulo3">
            <h2>Circuitos Eletrônicos</h2>
            <p>Explore o mundo dos sensores e atuadores, os componentes que permitem aos robôs interagir com o ambiente. Aprenda a utilizar diferentes tipos de sensores e atuadores em seus projetos.</p>
            <div class="conteudo-modulo" id="conteudo3">
            <div class="aula">
              <h3 class="titulo-aula" >Aula 1: Montagem de Circuitos</h3>
              <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/oDUAvaXsK1g?si=NHMsMeGYweNuVFqR" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
              </div>
            </div>
            <div class="aula">
              <h3 class="titulo-aula">Aula 2: Simulação de Circuitos</h3>
              <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/g6R_E6_w2qE?si=UpVM0_yyUqcgTNY3" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
              </div>
            </div>
            <div class="aula">
              <h3 class="titulo-aula">Aula 3: Testes com Multímetro</h3>
              <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/t9V6BB1FbQc?si=4VgRw1ircBECTXLv" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
              </div>
            </div>
            </div>
        </div>

        <div class="module" id="modulo4">
            <h2>Projetos Práticos</h2>
            <p>Coloque em prática todo o conhecimento adquirido nos módulos anteriores desenvolvendo projetos práticos de eletrônica, desde circuitos simples até mais complexos com solda.</p>
            <div class="conteudo-modulo" id="conteudo4">
            <div class="aula">
              <h3 class="titulo-aula">Aula 1: Projeto de Semáforo Digital</h3>
              <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/JuwM4XoriJs?si=ZGLLs_HnvAkpUEG8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
              </div>
            </div>
            <div class="aula">
              <h3 class="titulo-aula">Aula 2: Montando um Contador Binário</h3>
              <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/yMUbHG94A7c?si=ohuThjH0B7fCfH13" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
              </div>
            </div>
            
            <div class="aula">
              <h3 class="titulo-aula">Aula 3: Sistema de Alarme com Sensor</h3>
              <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/y9ujKGNh3ks?si=CTh_tBh9FHlax8qY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
              </div>
            </div>
          </div>
        
    
      </div>
    <button id="cadastrarCursoBtn">Cadastrar-se</button>

    <script src="../js/animations/sidebarMov.js"></script>
    
    
    <script>
        // moduloscurso.html
        const urlParams = new URLSearchParams(window.location.search);
        const curseId = urlParams.get('id');

        if (curseId) {
            console.log(`ID do curso: ${curseId}`);
            // Use curseId para buscar os detalhes do curso
        } else {
            console.log('ID do curso não encontrado.');
        }
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
   const modules = document.querySelectorAll('.module');
 
   modules.forEach(module => {
     const header = module.querySelector('h2');
     const conteudo = module.querySelector('.conteudo-modulo');
 
     if (header) {
       header.style.cursor = 'pointer';
 
       header.addEventListener('click', () => {
         if (conteudo) {
           const isVisible = conteudo.style.display === 'block';
           conteudo.style.display = isVisible ? 'none' : 'block';
         } else {
           console.log('Este módulo ainda não possui aulas.');
           // Você pode exibir uma mensagem na tela se quiser.
         }
       });
     }
   });
 });
 
     </script>

     <script>
document.addEventListener("DOMContentLoaded", () => {
  const userId = localStorage.getItem("loggedUserId") || sessionStorage.getItem("user_id");
  const urlParams = new URLSearchParams(window.location.search);
  const cursoId = urlParams.get("id"); // AGORA ESTE CURSOID VIRÁ CORRETO APÓS A CORREÇÃO NO catalogoBundle.js

  console.log("ID do usuário (da sessão/local storage):", userId);
  console.log("ID do curso (da URL):", cursoId); // DEVE MOSTRAR UM ID REAL AQUI

  const botao = document.getElementById("cadastrarCursoBtn");
  if (!botao) {
    console.error("Botão de cadastro não encontrado.");
    return;
  }

  // Desabilita o botão se o ID do curso for nulo, para evitar cliques inválidos
  if (!cursoId) {
      botao.disabled = true;
      botao.textContent = "Curso inválido para cadastro";
      return;
  }

  botao.addEventListener("click", async () => {
    if (!userId) {
      alert("Você precisa estar logado para se cadastrar em um curso.");
      return;
    }

    console.log("Tentando cadastrar o curso com ID:", cursoId, "para o usuário:", userId);

    try {
      const res = await fetch(`http://localhost:3001/skilltech/api/v1/users/${userId}/register-course`, {
        method: "PUT",
        headers: { "Content-Type": "application/json" },
        // Envia o ID real do curso, que agora vem da URL
        body: JSON.stringify({ curses: [cursoId] })
      });

      const result = await res.json(); // Tenta parsear JSON mesmo em caso de erro

      if (res.ok) {
        alert("Curso cadastrado com sucesso!");
        // Opcional: Desabilitar o botão ou mudar o texto após o cadastro bem-sucedido
        // botao.textContent = 'Cadastrado!';
        // botao.disabled = true;
      } else {
        // Se a resposta não for OK, exibe a mensagem de erro do servidor ou uma genérica
        alert(result.message || "Erro ao cadastrar no curso. Verifique o console para mais detalhes.");
        console.error("Erro na resposta do servidor:", result);
      }
    } catch (err) {
      console.error("Erro ao se cadastrar (problema de rede ou JSON inválido):", err);
      alert("Erro ao conectar com o servidor ou resposta inválida. Verifique sua conexão ou o console.");
    }
  });
});
</script>
</body>
</html>